mytable = [
	[
		[ < $arg1 5 ]
		[ echo I can count this many ]
	]
	[
		[ < $arg1 15 ]
		[ echo limerick ]
	]
	[
		[ < $arg1 50 ]
		[ echo John the elderly ]
	]
	[
		[ 1 ]
		[ echo This table is a massive potato ]
	]
]

parser = [
	local done
	done = 0
	loopwhile i (listenlen $$arg1) [ ! $done ] [
		local conditional body
		conditional = (at $$arg1 $i 0)
		body = (at $$arg1 $i 1)

		if (conditional @(loopconcat j (- $numargs 1) [ escape $[arg@(+ $j 2)]
			done = 1
			body @@(loopconcat j (- $numargs 1) [ escape $[arg@(+ $j 2)] ])
		]
	]
]

parser mytable 10

